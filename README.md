# WebHookThing

The purpose of this app is to help debug [web hooks](https://en.wikipedia.org/wiki/Webhook). I use it to test web hook callbacks generated by my application. You could also use it to view the content of web hooks from other applications that you need to consume in your app.

I wrote this because every other service out there for testing my web hooks is either a) paid, or b) changes the URL every few days. I want a stable URL for my web hooks.

Features:

- [ ] Deploy to your own infrastructure
- [x] Private data to you, and you control who has an account on it
- [x] Optionally permit anonymous users
- [x] Can run locally on your own computer if you're just testing local web hooks

There is no signup form because it is intended as a personal use app. To create users you need to use the user management screens on the Supabase Dashboard.

## Application Environment

The following environment variables need to be set within your deployment environment or locally for dev mode (via the `.env` file):

- `LOG_LEVEL` (string, default is unset; useful setting in dev mode is `debug`) makes the app server chatty to see what's going on.
- `PERMIT_ANONYMOUS_USERS` (boolean, default false) allow the Supabase anonymous login feature. Must enable in Supabase also (cloud: via dashboard, local: via [config file](./supabase/config.toml) `auth.enable_anonymous_sign_ins` setting)
- `PUBLIC_SITE_URL` (string, default `http://localhost:5173/`) the base URL for where this is deployed
- `SUPABASE_URL` (string, no default) URL to the Supabase API
- `SUPABASE_ANON_KEY` (string, no default) Supabase "Anon" key
- `SUPABASE_SERVICE_ROLE_KEY` (string, no default) Supabase service role key

## Running Locally in DEV Mode

### Install the required software

- Node (`brew install node`). I built and test with version 21, but it should run with older versions fine.
- Docker environment of some sort. I use [Colima](https://github.com/abiosoft/colima) via `brew install colima docker` on my Mac, but the official Docker Engine will work just as well. I use Colima because the license is free, unlike Docker Desktop.

If you plan to modify the code check out the project repo using `git clone`. You will also want to install:

- `jq` via `brew install jq`
- `mermerd` via [GitHub download](https://github.com/KarnerTh/mermerd)
- Open the [recommended extensions file](./.vscode/extensions.json) and install the recommended VS Code modules, assuming you're using VS Code.

### Run the Project

For development testing, copy the `.env.example` to `.env` before starting the server.

Run `npm install` to get all of the Node dependencies installed, followed by `npm run dev`.

Open the development url with your web browser: [http://localhost:5173/](http://localhost:5173/) and login using the demo user credentials or use the anonymous login feature if you enabled it.

Issue some GET and POST requests to the URL it shows you. If you installed the recommended modules into VS Code, you can open the file [rest_tests.rest](./__tests__/rest_tests.rest) and submit the test samples there.

Create any new users you want using the Supabase dashboard.

## Production Mode

TBD.
